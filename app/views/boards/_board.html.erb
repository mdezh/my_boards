<% controllers = []
  controllers << 'scroll-into-view' if defined?(auto_scroll)
  controllers << 'lazy-loader' if @more_pages && board.id == @loading_trigger
%>
<%= tag.div id: dom_id(board), class: 'list-group-item', data: {
  state_counter_target: 'item',
  select_board_target: 'board'
}.merge(controllers.present? ? {
  controller: controllers.join(' ')
} : {}).merge(controllers.include?('lazy-loader') ? {
  lazy_loader_src_value: boards_path(cursor: @next_cursor),
  lazy_loader_indicator_value: '#boards_spinner',
  lazy_loader_hidden_class: 'invisible hidden'
} : {}) do %>
  <%= turbo_stream_from board %>
  <%= render "boards/board_inner", board: %>
<% end %>
